<?php

use Trainer\DesignPatterns\Adapter\Adapter;
use Trainer\DesignPatterns\Decorator\Decorator;
use Trainer\DesignPatterns\Observer\Observer;
use Trainer\DesignPatterns\ResponsibilityChain\ResponsibilityChain;
use Trainer\DesignPatterns\Strategy\Strategy;
use Trainer\DesignPatterns\TemplateMethod\TemplateMethod;
use Trainer\Operators\NullCoalesce;
use Trainer\Operators\Spaceship;

include './vendor/autoload.php';

if (php_sapi_name() !== 'cli') {
    throw new Exception('This file needs to be called from the command line.');
}

if (! isset($argv[1])) {
    throw new Exception('Provide the exercise name as parameter. For example: adapter.');
}

$exercise = strtolower($argv[1]);

switch ($exercise) {
    // Design patterns.
    case 'pattern:adapter':
        Adapter::run();
        break;

    case 'pattern:decorator':
        Decorator::run();
        break;

    case 'pattern:template-method':
        TemplateMethod::run();
        break;

    case 'pattern:strategy':
        Strategy::run();
        break;

    case 'pattern:responsibility-chain':
        ResponsibilityChain::run();
        break;

    case 'pattern:observer':
        Observer::run();
        break;

    // Operators.
    case 'operator:spaceship':
        Spaceship::run();
        break;

    case 'operator:null-coalesce':
        NullCoalesce::run();
        break;
}
